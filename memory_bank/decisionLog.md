# 决策日志 - SnapLock

## [2025-08-09]
### 技术选型确认
1. **框架与架构**
   - 使用 **Tauri** 作为桌面应用框架，结合 **Rust** 后端与 **Vue 3 + TypeScript** 前端。
   - 选择 Tauri 的原因：
     - 体积小、性能高、安全性好。
     - 可直接调用 Rust 生态库实现底层功能。

2. **输入监控**
   - 采用 `rdev` crate 监听全局键盘与鼠标事件。
   - 优势：跨平台支持、事件响应速度快。

3. **屏幕锁定**
   - Windows 平台调用 `rundll32.exe user32.dll,LockWorkStation`。
   - 原因：无需额外依赖，调用系统原生 API。

4. **摄像头处理**
   - 使用 `nokhwa` crate 进行摄像头枚举与拍照。
   - 优势：支持多平台，API 简洁，性能较好。

5. **热键控制**
   - 全局监听 `ALT+L` 作为监控模式开关。
   - 延迟 2 秒进入警戒状态，避免误触发。

6. **系统托盘与后台运行**
   - 使用 Tauri 系统托盘 API 实现最小化与后台守护。
   - 解锁屏幕后自动停止监控，防止误触发。

### 版本策略
- 所有依赖项尽可能使用最新稳定版本。
- Rust 版本锁定为最新 stable 版。